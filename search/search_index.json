{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Taggin","text":"<p>Taggin is a tiny layer atop Python's stdlib logger that lets you treat method access as dynamic tags while mirroring every record into a searchable store. Use attribute access such as <code>log.TRAIN.BATCH(\"...\")</code>, filter by glob patterns, rate-limit noisy categories, and export the captured history to text or Parquet for lightweight analytics.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Magic tags \u2013 any attribute chain on a logger becomes a structured tag.</li> <li>Structured storage \u2013 every record (timestamp, level, name, tag, message)   is retained in-memory for later saving or searching.</li> <li>CLI explorer \u2013 the <code>taggin</code> CLI (built with Cyclopts) supports date,   tag, and fuzzy searches with optional JSON output.</li> <li>Progress-safe console handler \u2013 won't break tqdm/alive-progress bars.</li> <li>Optional color + emoji \u2013 enable Rich-driven styling via   <code>setup_logger(enable_color=True)</code> and <code>set_tag_style</code>.</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>from datetime import datetime\nfrom taggin import (\n    setup_logger,\n    set_visible_tags,\n    get_log_storage,\n    set_tag_style,\n)\n\nlog = setup_logger(console_level=\"INFO\", enable_color=True)\nset_visible_tags([\"TRAIN.*\", \"io.net\"])\nset_tag_style(\"TRAIN.START\", color=\"green\", emoji=\"\ud83d\ude82\")\n\nlog.info(\"Booting system\")\nlog.TRAIN.START(\"epoch=%s\", 1)\nlog.io.net(\"connected to redis\")\n\nstorage = get_log_storage()\nstorage.save_text(\"logs/run.txt\")\nstorage.save_parquet(\"logs/run.parquet\")  # requires pandas + pyarrow\n\nrecent = storage.search_by_date(start=datetime.utcnow().replace(hour=0, minute=0))\ntrain = storage.search_by_tag(\"TRAIN.*\")\nissues = storage.search_fuzzy(\"redis timeout\", threshold=0.5)\n</code></pre> <p>Set <code>enable_color=False</code> (default) to keep plain console output.</p>"},{"location":"#cli-search","title":"CLI Search","text":"<pre><code>taggin by-tag logs/run.txt \"TRAIN.*\"\ntaggin by-date logs/run.parquet --start \"2025-01-01\" --end \"2025-01-05\"\ntaggin fuzzy logs/run.txt \"redis timeout\" --threshold 0.4 --limit 5 --json-output\ntaggin tags logs/run.txt                    # show each tag with its count\ntaggin tags logs/run.txt --json-output      # emit the same counts for tooling\n</code></pre> <p>Each search command prints human-readable text or JSON (<code>--json-output</code>) for downstream automation, while <code>taggin tags</code> displays a frequency-sorted summary so you can see the busiest categories at a glance.</p>"},{"location":"#installation-development","title":"Installation &amp; Development","text":"<pre><code>pip install taggin\npytest  # run the tests\nmkdocs serve  # preview docs\n</code></pre> <p>The documentation site uses the Material theme, so make sure <code>mkdocs-material</code> is installed (e.g., <code>pip install -e \".[dev]\"</code> or <code>pip install mkdocs mkdocs-material</code>) before running <code>mkdocs serve</code>.</p>"},{"location":"api/","title":"API Reference","text":""},{"location":"api/#module-tagginlog","title":"Module <code>taggin.log</code>","text":""},{"location":"api/#setup_loggerlog_dirlogs-log_namerunlog-console_levelinfo-file_leveldebug-enable_colorfalse","title":"<code>setup_logger(log_dir=\"logs\", log_name=\"run.log\", console_level=\"INFO\", file_level=\"DEBUG\", enable_color=False)</code>","text":"<p>Creates a root logger with file + console handlers, installs the tagged logger class, applies tag filters, and attaches a structured capture handler. Returns the configured root logger. Set <code>enable_color=True</code> to opt into Rich-powered colored console output (respects <code>set_tag_style</code> customization).</p>"},{"location":"api/#set_visible_tagstags","title":"<code>set_visible_tags(tags)</code>","text":"<p>Limit which tagged records appear on the console. Accepts <code>None</code>, <code>[\"*\"]</code>, or a list of glob patterns like <code>[\"TRAIN.*\", \"io.net\"]</code>.</p>"},{"location":"api/#set_tag_leveltag-level","title":"<code>set_tag_level(tag, level)</code>","text":"<p>Override the log level for a specific tag (<code>level</code> can be a string or numeric).</p>"},{"location":"api/#set_tag_rate_limittag-interval_s","title":"<code>set_tag_rate_limit(tag, interval_s)</code>","text":"<p>Throttle a tag so it emits at most once every <code>interval_s</code> seconds.</p>"},{"location":"api/#set_tag_styletag-colornone-emojinone","title":"<code>set_tag_style(tag, color=None, emoji=None)</code>","text":"<p>Define the console color and optional emoji prefix for a tag. Takes effect when <code>setup_logger(enable_color=True)</code> is used; emoji (when provided) also appears in plain output.</p>"},{"location":"api/#get_log_storagecreatetrue","title":"<code>get_log_storage(create=True)</code>","text":"<p>Returns the shared <code>LogStorage</code> instance that mirrors all records. When <code>create=False</code>, returns <code>None</code> if structured capture was never initialized.</p>"},{"location":"api/#logstorage","title":"<code>LogStorage</code>","text":"<ul> <li><code>add(entry)</code> \u2013 manually append a <code>StructuredLogEntry</code>.</li> <li><code>iter_records()</code> \u2013 returns a copy of stored entries.</li> <li><code>clear()</code> \u2013 empties the storage.</li> <li><code>save_text(path, append=False)</code> \u2013 write entries to text file.</li> <li><code>save_parquet(path, append=False)</code> \u2013 write entries to Parquet (pandas + pyarrow).</li> <li><code>search_by_date(start=None, end=None)</code> \u2013 filter by timestamps.</li> <li><code>search_by_tag(pattern)</code> \u2013 glob match tags.</li> <li><code>search_fuzzy(text, threshold=0.55, limit=None)</code> \u2013 approximate message search.</li> </ul>"},{"location":"api/#structuredlogentry","title":"<code>StructuredLogEntry</code>","text":"<p>Immutable data class with fields <code>timestamp</code>, <code>level</code>, <code>name</code>, <code>tag</code>, and <code>message</code>.</p>"},{"location":"api/#tagged-logger","title":"Tagged Logger","text":"<p>All <code>logging.Logger</code> instances gain dynamic tag attributes. Examples:</p> <pre><code>log = setup_logger()\nlog.TRAIN.START(\"epoch=%s\", 1)\nlog.io.net(\"connected\")\nlog.QAT.FOLD(\"folded layers\")\n</code></pre>"},{"location":"api/#module-taggincli","title":"Module <code>taggin.cli</code>","text":"<p>The CLI is built with Cyclopts and exposes three commands:</p> <ul> <li><code>by-date PATH [--start ISO] [--end ISO] [--json-output]</code></li> <li><code>by-tag PATH PATTERN [--json-output]</code></li> <li><code>fuzzy PATH TEXT [--threshold 0.55] [--limit N] [--json-output]</code></li> <li><code>tags PATH [--json-output]</code></li> </ul> <p>Each command loads either a structured text log or Parquet file, runs the corresponding <code>LogStorage</code> search, and prints results.</p>"},{"location":"examples/","title":"Examples","text":""},{"location":"examples/#training-pipeline","title":"Training Pipeline","text":"<pre><code>from taggin import setup_logger, set_visible_tags, get_log_storage\n\nlog = setup_logger()\nset_visible_tags([\"TRAIN.*\", \"DATA.*\"])\n\nlog.DATA.LOAD(\"rows=%d\", 12_345)\nlog.TRAIN.START(\"epoch=%s lr=%.4f\", 1, 0.0003)\n\nfor step in range(3):\n    log.TRAIN.BATCH(\"step=%d loss=%.3f\", step, 0.1 * step)\n\nlog.TRAIN.END(\"epoch=%s acc=%.2f\", 1, 0.92)\n\nstorage = get_log_storage()\nstorage.save_text(\"logs/train.txt\")\n</code></pre>"},{"location":"examples/#tag-visibility-quick-check","title":"Tag visibility quick check","text":"<pre><code>from taggin import setup_logger, set_visible_tags\n\nlog = setup_logger()\n\nset_visible_tags([])       # hide all tagged messages on console\nlog.TRAIN.START(\"hidden\")  # still written to file / storage\n\nset_visible_tags([\"*\"])    # show every tag on console\nlog.TRAIN.START(\"visible\")\n</code></pre> <p>The first call suppresses tagged output entirely (console stays quiet), while the second emits <code>[TRAIN.START] visible</code> to stdout; both records are still captured in the log file and structured storage.</p>"},{"location":"examples/#rate-limiting-and-levels","title":"Rate Limiting and Levels","text":"<pre><code>from taggin import setup_logger, set_tag_rate_limit, set_tag_level, set_tag_style\n\nlog = setup_logger(enable_color=True)\nset_tag_rate_limit(\"METRIC.BATCH\", 0.5)      # throttle noisy metrics\nset_tag_level(\"ALERT.CRIT\", \"WARNING\")       # bump level so it hits console\nset_tag_style(\"ALERT.CRIT\", color=\"bold red\", emoji=\"\ud83d\udea8\")\n\nlog.METRIC.BATCH(\"loss=%f\", 0.1)\nlog.METRIC.BATCH(\"loss=%f\", 0.2)             # skipped (rate limited)\nlog.ALERT.CRIT(\"model diverged\")\n</code></pre>"},{"location":"examples/#cli-recipes","title":"CLI Recipes","text":"<p>Once you have a structured log text file or Parquet dump, slice it with the CLI:</p> <pre><code># Show only IO.* events\ntaggin by-tag logs/run.txt \"IO.*\"\n\n# Inspect a specific window (inclusive)\ntaggin by-date logs/run.txt --start \"2025-01-05T10:00:00\" --end \"2025-01-05T11:00:00\"\n\n# Fuzzy search for \"timeout\" and export JSON\ntaggin fuzzy logs/run.txt timeout --threshold 0.3 --json-output &gt; timeout.json\n\n# List every tag + its count\ntaggin tags logs/run.txt\n\n# Emit the same counts as JSON for scripting\ntaggin tags logs/run.txt --json-output\n</code></pre>"}]}